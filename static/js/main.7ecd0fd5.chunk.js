(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(12),i=n.n(a),s=(n(99),n(35)),o=n(10),u=n(19),l=n(7),d=n.n(l),p=n(15),j=n(16),b=function(e,t){return localStorage[e]=JSON.stringify(t)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage[e]||t;return JSON.parse(n)},h=n(36),x=n.n(h),m=n(55),O=n.n(m),g="loggedinUser",v={_id:"u101",name:"default guest",products:[]},y=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.post("https://fakestoreapi.com/carts",{userId:S._id,date:Date.now(),products:C()});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.put("https://fakestoreapi.com/carts/".concat(t),{userId:S._id,date:Date.now(),products:C()});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=O.a.countBy(S.products,(function(e){return e.id}));return Object.entries(e).map((function(e){var t=Object(j.a)(e,2);return{productId:t[0],quantity:t[1]}}))},S=function(){var e=f(g);return e||(e=v),b(g,e),e}(),k={getLoggedinUser:function(){return S},addProduct:function(e){return S.products.push(e),b(g,S),S},createCart:y,updateCart:w,checkout:function(){return S.products=[],b(g,S),S}},N=function(){return function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getLoggedinUser();case 2:n=e.sent,t({type:"SET_USER",user:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=n.p+"static/media/background.e8b723b5.png",R=(n(123),n(2)),P=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(N())}),[]),Object(R.jsx)("section",{className:"homepage",children:Object(R.jsxs)("div",{className:"main",children:[Object(R.jsx)("p",{className:"homepage-title",children:"Shopping Online - All The Best in one place"}),Object(R.jsx)("img",{src:T})]})})},I=n(177),E=n(196),U=n(189),B=n(186),_=n(180),D=n(182),A=n(188),F=n(185),q=n(194),L=n(197),z=n(187),M=n(183),H=(n(125),function(e){var t=e.product,n=e.addToCart,r=Object(I.a)((function(){return Object(E.a)({button:{backgroundColor:"#1da1f2",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px #C9DBFF",color:"white",height:"48px",padding:"0 30px","&:hover":{backgroundColor:"#1a91da"},marginLeft:"40px"},tableRow:{display:"flex",justifyContent:"center",cursor:"pointer"},cell:{width:"33%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem"},titleCell:{display:"flex",alignItems:"center",width:"34%",paddingLeft:"40px",fontSize:"1rem"},productImg:{width:"80px"},addCell:{display:"flex",alignItems:"center",width:"33%"}})}))();return Object(R.jsx)("section",{className:"product-preview",children:Object(R.jsxs)(_.a,{hover:!0,className:r.tableRow,tabIndex:-1,children:[Object(R.jsx)(D.a,{className:r.titleCell,align:"left",children:t.title}),Object(R.jsxs)(D.a,{className:r.cell,align:"left",children:["$",t.price]}),Object(R.jsx)(D.a,{className:r.cell,align:"left",children:Object(R.jsx)("img",{src:t.image,className:r.productImg,width:"50",height:"70"})}),n&&Object(R.jsx)(D.a,{className:r.cell,children:Object(R.jsx)(M.a,{className:r.button,onClick:function(e){return null===n||void 0===n?void 0:n(t,e)},children:"Add To Cart"})})]},t.title)})}),W=n(195),J=n(184),$=n(136),Y=n.p+"static/media/loader.3b24a6b9.svg",G=(n(126),function(e){var t=e.handleClose,n=e.open,r=e.currProduct,c=e.totalPrice,a=e.loading,i=Object(I.a)((function(e){return Object(E.a)({modal:{boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",width:"1000px"},modalText:{width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},paperModal:{width:"1000px",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),textOverflow:"ellipsis",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},productImg:{width:"250px"}})}))();return Object(R.jsx)("section",{className:"modal-cmp",children:Object(R.jsx)(W.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:n,onClose:t,closeAfterTransition:!0,BackdropComponent:J.a,BackdropProps:{timeout:500},children:Object(R.jsx)("div",{children:a?Object(R.jsx)("div",{className:"loader-container",children:Object(R.jsx)("img",{src:Y,className:"loader"})}):r?Object(R.jsx)($.a,{in:n,children:Object(R.jsxs)("div",{className:i.paperModal,children:[Object(R.jsx)("h2",{id:"transition-modal-title",children:null===r||void 0===r?void 0:r.title}),Object(R.jsxs)("p",{className:i.modalText,id:"transition-modal-description",children:[Object(R.jsx)("p",{className:i.modalText,children:null===r||void 0===r?void 0:r.description}),Object(R.jsx)("img",{src:r.image,className:i.productImg}),Object(R.jsxs)("p",{className:i.modalText,children:["$",null===r||void 0===r?void 0:r.price]})]})]})}):Object(R.jsx)($.a,{in:n,children:Object(R.jsxs)("div",{className:i.paperModal,children:[Object(R.jsx)("h2",{id:"transition-modal-title",children:"Congrats!"}),Object(R.jsx)("p",{id:"transition-modal-description",children:"You've checked out successfully. Hope to see you again!"}),Object(R.jsxs)("p",{children:["Total: $",(null===c||void 0===c?void 0:c.toFixed(2))||0]})]})})})})})}),K=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://fakestoreapi.com/products");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://fakestoreapi.com/products/category/".concat(t));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://fakestoreapi.com/products/categories");case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X={query:K,queryByCategory:Q,getById:function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://fakestoreapi.com/products/".concat(t));case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCategories:V},Z=(n(127),function(e){var t=e.match,n=Object(r.useState)(!1),c=Object(j.a)(n,2),a=c[0],i=c[1],s=Object(r.useState)(!0),u=Object(j.a)(s,2),l=u[0],b=(u[1],Object(r.useState)({})),f=Object(j.a)(b,2),h=f[0],x=f[1],m=Object(o.f)();Object(r.useEffect)((function(){i(!0),O(t.params.id)}),[]);var O=function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getById(t);case 2:n=e.sent,i(!1),x(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)("section",{className:"product-details",children:Object(R.jsx)(G,{handleClose:function(){m.goBack()},open:l,currProduct:h,loading:a})})}),ee=(n(129),function(e){var t=e.products,n=void 0===t?[]:t,r=e.addToCart,a=Object(I.a)((function(e){return Object(E.a)({root:{width:"100%"},paper:{marginBottom:e.spacing(2)},table:{width:"70vw",display:"flex",flexDirection:"column",margin:"auto"},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},tableRow:{display:"flex",justifyContent:"center",cursor:"pointer"},cell:{width:"33%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem"},titleCell:{display:"flex",alignItems:"center",width:"34%",paddingLeft:"40px",fontSize:"1.1rem"},addCell:{display:"flex",alignItems:"center",width:"33%"},modal:{boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",margin:"auto",width:"1000px"},modalText:{width:"1000px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},paperModal:{width:"1000px",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),textOverflow:"ellipsis",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}})}))(),i=c.a.useState("asc"),u=Object(j.a)(i,2),l=u[0],d=u[1],p=c.a.useState("title"),b=Object(j.a)(p,2),f=b[0],h=b[1],x=c.a.useState(0),m=Object(j.a)(x,2),O=m[0],g=m[1],v=c.a.useState(5),y=Object(j.a)(v,2),w=y[0],C=y[1],S=Object(o.g)(),k=S.path,N=S.url,T=function(e,t){d(f===t&&"asc"===l?"desc":"asc"),h(t)},P=[{id:"title",numeric:!1,disablePadding:!1,label:"Title"},{id:"price",numeric:!0,disablePadding:!1,label:"Price"},{id:"image",numeric:!1,disablePadding:!1,label:"Image"}];function M(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function W(e,t){return"desc"===e?function(e,n){return M(e,n,t)}:function(e,n){return-M(e,n,t)}}function J(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}function $(e){var t=e.classes,n=e.order,c=e.orderBy,a=e.onRequestSort;return Object(R.jsx)(F.a,{className:t.table,children:Object(R.jsxs)(_.a,{className:t.tableRow,children:[P.map((function(e){return Object(R.jsx)(D.a,{className:"title"===e.id?t.titleCell:t.cell,align:"left",sortDirection:c===e.id&&n,children:Object(R.jsxs)(L.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(r=e.id,function(e){a(e,r)}),children:[e.label,c===e.id?Object(R.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var r})),r&&Object(R.jsx)(D.a,{className:t.addCell})]})})}function Y(e){var t=e.order,c=e.orderBy;return Object(R.jsxs)(B.a,{children:[J(n,W(t,c)).slice(O*w,O*w+w).map((function(e,t){return Object(R.jsx)("div",{children:Object(R.jsx)(s.b,{to:"".concat(N,"/").concat(e.id),className:"link",children:Object(R.jsx)(H,{product:e,addToCart:r})})})})),Object(R.jsx)(o.a,{component:Z,path:"".concat(k,"/:id")})]})}return Object(R.jsx)("div",{className:a.root,children:Object(R.jsxs)(z.a,{className:a.paper,children:[Object(R.jsx)(A.a,{children:Object(R.jsxs)(U.a,{className:a.table,"aria-labelledby":"tableTitle","aria-label":"enhanced table",children:[Object(R.jsx)($,{classes:a,order:l,orderBy:f,onRequestSort:T,rowCount:n.length}),Object(R.jsx)(Y,{classes:a,order:l,orderBy:f,onRequestSort:T,rowCount:n.length})]})}),Object(R.jsx)(q.a,{rowsPerPageOptions:[5],component:"div",count:n.length,rowsPerPage:w,page:O,onChangePage:function(e,t){return g(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),g(0)}})]})})}),te=(n(130),n(25)),ne=n(190),re=n(199),ce=n(198),ae=n(191),ie=n(193),se=function(e){var t=e.names,n=e.setFilterBy,r={PaperProps:{style:{maxHeight:224,width:250}}},a=Object(I.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300,textTransform:"capitalize"},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}))(),i=Object(te.a)(),s=c.a.useState(""),o=Object(j.a)(s,2),u=o[0],l=o[1],d=c.a.useState(!1),p=Object(j.a)(d,2),b=p[0],f=p[1];function h(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}return Object(R.jsx)("div",{children:Object(R.jsxs)(ae.a,{className:a.formControl,children:[Object(R.jsx)(re.a,{id:"demo-mutiple-name-label",children:"Category"}),Object(R.jsxs)(ie.a,{labelId:"demo-mutiple-name-label",id:"demo-mutiple-name",value:u,open:b,onOpen:function(){f(!0)},onChange:function(e){var t=e.target.value,r="all"===t?"":t;l(t),n(r),f(!1)},input:Object(R.jsx)(ne.a,{}),MenuProps:r,children:[Object(R.jsx)(ce.a,{value:"all",children:Object(R.jsx)("em",{children:"All"})}),null===t||void 0===t?void 0:t.map((function(e){return Object(R.jsx)(ce.a,{value:e,style:h(e,u,i),children:e},e)}))]})]})})},oe=(n(131),function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),i=Object(j.a)(a,2),s=i[0],o=i[1],l=Object(u.c)((function(e){return e.productReducer.products})),b=Object(r.useState)(!1),f=Object(j.a)(b,2),h=f[0],x=f[1],m=Object(u.b)();Object(r.useEffect)((function(){x(!0),m(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,X.queryByCategory(e);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,X.query();case 8:t.t0=t.sent;case 9:r=t.t0,n({type:"SET_PRODUCTS",products:r});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n)),O()}),[n]);var O=function(){var e=Object(p.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,X.getCategories();case 3:e.t1=e.sent,(0,e.t0)(e.t1),x(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsx)("section",{className:"products",children:h?Object(R.jsx)("div",{className:"loader-container",children:Object(R.jsx)("img",{src:Y,className:"loader"})}):Object(R.jsxs)("div",{className:"basic-container products-container",children:[Object(R.jsx)(se,{names:s,setFilterBy:c}),Object(R.jsx)(ee,{products:l,addToCart:function(e,t){t.preventDefault(),m(function(e){return function(){var t=Object(p.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.addProduct(e);case 2:r=t.sent,n({type:"SET_USER",user:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}})]})})}),ue=(n(132),function(){var e=Object(u.c)((function(e){return e.userReducer.currUser})),t=Object(u.c)((function(e){return e.userReducer.userCart})),n=Object(u.c)((function(e){var t;return null===(t=e.userReducer.currUser)||void 0===t?void 0:t.products})),c=Object(r.useState)(0),a=Object(j.a)(c,2),i=a[0],s=a[1],l=Object(r.useState)(!1),b=Object(j.a)(l,2),f=b[0],h=b[1],x=Object(o.f)(),m=Object(u.b)();Object(r.useEffect)((function(){var e;m(t?(e=t.id,function(){var t=Object(p.a)(d.a.mark((function t(n){var r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.updateCart(e);case 2:return r=t.sent,t.next=5,k.getLoggedinUser();case 5:c=t.sent,n({type:"SET_USER_CART",cart:r}),n({type:"SET_USER",user:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.createCart();case 2:n=e.sent,t({type:"SET_USER_CART",cart:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var g=function(){s(v()),m(function(){var e=Object(p.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.checkout();case 2:n=e.sent,t({type:"SET_USER",user:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y()},v=function(){return O.a.sumBy(null===e||void 0===e?void 0:e.products,(function(e){return e.price}))},y=function(){return h(!0)};return Object(R.jsxs)("section",{className:"shopping-cart",children:[Object(R.jsxs)("div",{className:"cart-page-btns",children:[Object(R.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(){return g()},children:"Checkout!"}),Object(R.jsx)(M.a,{color:"primary",onClick:function(){return x.push("/products")},children:"\u2b05 Back"})]}),Object(R.jsx)(G,{handleClose:function(){return h(!1)},open:f,totalPrice:i}),Object(R.jsx)("h1",{children:"Your Shopping Cart"}),Object(R.jsx)(ee,{products:n})]})}),le=n.p+"static/media/cart.19c60e8b.png",de=(n(133),function(){var e,t=Object(u.c)((function(e){return e.userReducer.currUser})),n=Object(u.b)();return Object(r.useEffect)((function(){n(N())}),[]),Object(R.jsxs)("section",{className:"basic-container appHeader",children:[Object(R.jsxs)("div",{className:"nav-bar",children:[Object(R.jsx)(s.b,{className:"link",to:"/",children:"Home"}),Object(R.jsx)(s.b,{className:"link",to:"/products",children:"Products"})]}),Object(R.jsxs)("div",{className:"shopping-cart",children:[Object(R.jsx)(s.b,{to:"/cart",children:Object(R.jsx)("img",{className:"person-img",src:le,alt:"cartIcon",width:"70"})}),Object(R.jsxs)("p",{children:[(null===t||void 0===t||null===(e=t.products)||void 0===e?void 0:e.length)||0," Items"]})]})]})}),pe=(n(134),function(){return Object(R.jsx)(s.a,{children:Object(R.jsxs)("div",{className:"App basic-container",children:[Object(R.jsx)(de,{}),Object(R.jsxs)(o.c,{children:[Object(R.jsx)(o.a,{component:oe,path:"/products"}),Object(R.jsx)(o.a,{component:ue,path:"/cart"}),Object(R.jsx)(o.a,{component:P,path:"/"})]})]})})}),je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},be=n(53),fe=n(20),he={products:[],currProduct:null},xe={currUser:null,userCart:null},me=n(86),Oe=Object(be.b)({productReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return Object(fe.a)(Object(fe.a)({},e),{},{products:t.products});case"SET_PRODUCT":return Object(fe.a)(Object(fe.a)({},e),{},{currProduct:t.product});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(fe.a)(Object(fe.a)({},e),{},{currUser:Object(fe.a)({},t.user)});case"SET_USER_CART":case"UPDATE_USER_CART":return Object(fe.a)(Object(fe.a)({},e),{},{userCart:Object(fe.a)({},t.cart)});default:return e}}}),ge=Object(be.d)(Oe,Object(be.c)(Object(be.a)(me.a))),ve=n(87),ye=n(192),we=Object(ve.a)({typography:{fontFamily:"quickSand"}});i.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(ye.a,{theme:we,children:Object(R.jsx)(u.a,{store:ge,children:Object(R.jsx)(pe,{})})})}),document.getElementById("root")),je()},99:function(e,t,n){}},[[135,1,2]]]);
//# sourceMappingURL=main.7ecd0fd5.chunk.js.map